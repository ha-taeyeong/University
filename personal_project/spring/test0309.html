<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <script>
      // new를 활용한 Object 생성자 호출
      // var user = new Object();
      // user.name = 'Sunny';
      // user.interests = ['Traveling', 'Swimming'];
      // user.greeting = function() {
      //   console.log('Hi, I\'m ' + this.name + '.');
      // };
      // user.greeting();
////////////////////////////////////////////////////////////////////////////
      // 객체 리터럴을 활용한 user 생성
      //var user = {
      //  name : 'Sunny',
      //  interests : ['Traveling', 'Swimming'],
      //  greeting : function() {
      //    console.log('Hi, I\'m ' + this.name + '.');
      //  }
      //}
      //user.greeting();

      // new Object() 보다 객체 리터럴을 권장하는 방법(간결한 문법이라서...)
/////////////////////////////////////////////////////////////////////////////
      // ES5부터 객체 리터럴에서 getter, setter 접근자 지원원
      // var user = {
      //   get role() {
      //     return 'Engineer';
      //   }
      // }
      // user.role;
      // console.log(user.role);
//////////////////////////////////////////////////////////////////////////////
      // 생성자 함수 생성
      // function User(name, interests) {
      //   this.name = name;
      //   this.interests = interests;
      //   this.greeting = function() {
      //     console.log('Hi, I\'m ' + this.name + '.');
      //   }
      // }
      // //user 객체를 생성하는 데 new를 활용해 생성자 함수 호출
      // var user = new User('Sunny', ['Traveling', 'Swimming']);
      // user.greeting();

      // var user = new User; // js 괄호 생략가능
      // console.log(user.name);

      // 위에서 생성한 User 생성자 함수의 프로토타입과 Object.creat() 메소드 활용
      // var user = Object.create(User.prototype, {
      //   name: { value: 'Sunny'},
      //   interests: { value: ['Traverling', 'Swimming']}
      // });
      // // 프로토타입 객체에 greeting 함수 추가
      // User.prototype.greeting = function () {
      //   console.log('Hi, I\'m ' + this.name + '.');
      // }
      // user.greeting(); 
/////////////////////////////////////////////////////////////////////////////
      // 객체를 반환하는 생성 함수 사용
      // function creatUser(name, interests) {
      //   var user = {};
      //   user.name = name;
      //   user.interests = interests;
      //   user.greeting = function () {
      //     console.log('Hi, I\'m ' + this.name + '.');
      //   };
      //   return user;
      // }

      // 매개변수를 이용해 생성 함수 호출
      // var user = creatUser('Sunny', ['Traveling', 'Swimming']);
      // user.greeting();
/////////////////////////////////////////////////////////////////////////////
    // // User 클래스 생성(ES6 클래스)
    // class User {
    // // User 생성자 함수와 상응
    //   constructor(name, interests) {
    //     this.name = name;
    //     this.interests = interests;
    //   }
    // // User.prototype.greeting과 같다
    //   greeting() {
    //     console.log('Hi, I\'m ' + this.name + '.');
    //   }
    // }
    // let user = new User('Sunny', ['Traveling', 'Swimming']);
    // user.greeting();
/////////////////////////////////////////////////////////////////////////////
    //  // 클래스 표현식 활용
    //  let User = class {
    //    constructor(name, interests) {
    //      this.name = name;
    //      this.interests = interests;
    //    }
    //    greeting() {
    //      console.log('Hi, I\'m ' + this.name + '.');
    //    }
    //  }
    //  let user = new User('Sunny', ['Traveling', 'Swimming']);
    //  user.greeting();
//////////////////////////////////////////////////////////////////////////////
    // var obj = {};
    // obj['100'] = 'one hundred';
    // // 숫자는 100은 '100'으로 변환된다.
    // console.log(obj[100]);
    // // foo와 bar 모두 문자열 '[object Object]'로 변환
    // var foo = { prop: 'f' }, bar = { prop: 'b' };
    // obj[foo] = 'Foo'
    // console.log(obj[bar])
//////////////////////////////////////////////////////////////////////////////
      // JS에서 Object.defineProperty or Object.defineProperties를 사용해 객체의 프로퍼티를 수정할 수 있다.
      function User(name, department) {
        var _department = department;
        var _name = name;
        Object.defineProperty(this, 'name', {
          value: _name,
          writable: true,
          enumerable: true,
          configurable: false // name 재정의 X
        });
        Object.defineProperty(this, 'department', {
          get: function() {
            console.log('Retrieving department');
            return _department;
          },
          set: function (newValue) {
            console.log('Updating department value to "' + newValue + '"');
            _department = newValue;
          },
          enumerable: true,
          configurable: true
        });
        Object.defineProperty(this, 'greeting', {
          value: function () {
            console.log('Hi, I\'m ' + _name + '.');
          },
          enumerable: false,
          configurable: false
        });
      }
      var user = new User('Sunny', 'Engineering');
      console.log(user.department);
      user.department = 'Marketing';
      user.greeting();
      // name 재정의
      // Object.defineProperty(user, 'name', {
      //   enumerable: false
      // });
      delete user.name;
      delete user.department;
      for (var prop in user) {
        console.log(prop); // department는 이미 삭제됐고, greeting 프로퍼티는 열거할 수 없기 때문에 'name'만 출력한다.
      }
    </script>
    <title>test</title>
  </head>
  <body>
    
  </body>
</html>